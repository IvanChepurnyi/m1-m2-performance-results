<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>chart-elements Demo</title>
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script>
      window.Polymer = window.Polymer || {};
      window.Polymer.dom = 'shadow';
    </script>
    <link rel="import" href="../chart-elements.html">
    <link rel="stylesheet" href="demo.css">
  </head>

  <body unresolved>

    <template is="dom-bind">

      <chart-pie id="chart" class="square-chart" data="[[data]]"></chart-pie>

      <div class="controls">

        <div class="control-group">

          <label>
            Value
            <input id="newValue" type="text" value="200">
          </label>

          <label>
            Color
            <input id="newColor" type="text" value="#949FB1">
          </label>

          <label>
            Highlight
            <input id="newHighlight" type="text" value="#A8B3C5">
          </label>

          <label>
            Label
            <input id="newLabel" type="text" value="Grey">
          </label>

          <button type="button" name="button" on-tap="addData">Add data</button>

        </div>

        <div class="control-group">

          <label>
            Width
            <input id="newWidth" type="text" value="150px">
          </label>

          <label>
            Height
            <input id="newHeight" type="text" value="150px">
          </label>

          <button type="button" name="button" on-tap="resize">Resize</button>

        </div>

      </div>

    </template>

    <script>
      var scope = document.querySelector('template');

      scope.data = {
        labels: [
          "Red",
          "Green",
          "Yellow"
        ],
        datasets: [
          {
            data: [300, 50, 100],
            backgroundColor: [
              "#FF6384",
              "#36A2EB",
              "#FFCE56"
            ],
            hoverBackgroundColor: [
              "#FF6384",
              "#36A2EB",
              "#FFCE56"
            ]
          }]
      };

      scope.addData = function() {
        this.push('data.labels', this.$.newLabel.value);
        this.push('data.datasets.0.hoverBackgroundColor', this.$.newHighlight.value);
        this.push('data.datasets.0.backgroundColor', this.$.newColor.value);
        this.push('data.datasets.0.data', this.$.newValue.value);
      };

      scope.resize = function() {
        this.$.chart.style.width = this.$.newWidth.value;
        this.$.chart.style.height = this.$.newHeight.value;
        this.$.chart.resize();
      };
    </script>

  </body>
</html>
